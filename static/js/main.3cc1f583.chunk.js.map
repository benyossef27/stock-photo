{"version":3,"sources":["Photo.js","App.js","index.js"],"names":["Photo","regular","urls","alt_description","likes","user","name","portfolio_url","medium","profile_image","className","src","alt","href","clientID","process","App","useState","loading","setLoading","photos","setPhotos","page","setPage","query","setQuery","mounted","useRef","fetchImages","a","urlPage","urlQuery","url","fetch","response","json","data","oldPhotos","results","error","console","log","useEffect","current","event","window","addEventListener","innerHeight","scrollY","document","body","scrollHeight","oldPage","removeEventListener","onSubmit","e","preventDefault","type","placeholder","value","onChange","target","map","image","index","key","ReactDOM","render","StrictMode","getElementById"],"mappings":"6PA4BeA,EA1BD,SAAC,GASR,IARGC,EAQJ,EARJC,KAAQD,QACRE,EAOI,EAPJA,gBACAC,EAMI,EANJA,MAMI,IALJC,KACEC,EAIE,EAJFA,KACAC,EAGE,EAHFA,cACiBC,EAEf,EAFFC,cAAiBD,OAGnB,OACE,6BAASE,UAAU,SACjB,yBAAKC,IAAKV,EAASW,IAAKT,IACxB,yBAAKO,UAAU,cACb,6BACE,4BAAKJ,GACL,2BAAIF,EAAJ,WAEF,uBAAGS,KAAMN,GACP,yBAAKI,IAAKH,EAAQI,IAAKN,EAAMI,UAAU,iBCjB3CI,EAAQ,qBAAiBC,+CA4GhBC,MAxGf,WAAgB,IAAD,EACiBC,oBAAS,GAD1B,mBACNC,EADM,KACGC,EADH,OAEeF,mBAAS,IAFxB,mBAENG,EAFM,KAEEC,EAFF,OAGWJ,mBAAS,GAHpB,mBAGNK,EAHM,KAGAC,EAHA,OAIaN,mBAAS,IAJtB,mBAINO,EAJM,KAICC,EAJD,KAKPC,EAAUC,mBACVC,EAAW,uCAAG,oCAAAC,EAAA,6DAClBV,GAAW,GAELW,EAHY,gBAGOR,GACnBS,EAJY,iBAISP,GAEzBQ,EADER,EACC,UAdM,2CAcN,OAAkBV,GAAlB,OAA6BgB,GAA7B,OAAuCC,GAEvC,UAjBI,oCAiBJ,OAAgBjB,GAAhB,OAA2BgB,GARd,SAUKG,MAAMD,GAVX,cAUZE,EAVY,gBAWCA,EAASC,OAXV,OAWZC,EAXY,OAYlB,IACEf,GAAU,SAACgB,GACT,OAAIb,GAAkB,IAATF,EACJc,EAAKE,QAEN,GAAN,mBAAWD,GADFb,EACT,YAAyBY,EAAKE,SAE9B,YAAyBF,OAG7BjB,GAAW,GACX,MAAOoB,GACPpB,GAAW,GACXqB,QAAQC,IAAIF,GAzBI,4CAAH,qDAmEjB,OAtCAG,qBAAU,WACRd,MAEC,CAACN,IAEJoB,qBAAU,WACHhB,EAAQiB,UACXjB,EAAQiB,SAAU,KAGnB,IACHD,qBAAU,WACR,IAAME,EAAQC,OAAOC,iBAAiB,UAAU,YAE3C5B,GACD2B,OAAOE,YAAcF,OAAOG,SAAWC,SAASC,KAAKC,aAAe,KAEpE5B,GAAQ,SAAC6B,GACP,OAAOA,EAAU,QAIvB,OAAO,WACLP,OAAOQ,oBAAoB,SAAUT,MAGtC,IAaD,8BACE,6BAASlC,UAAU,UACjB,0BAAMA,UAAU,cAAc4C,SAbf,SAACC,GACpBA,EAAEC,iBACGhC,IACQ,IAATF,EAIJC,EAAQ,GAHNK,EAAY,MAUR,2BACE6B,KAAK,OACLC,YAAY,SACZhD,UAAU,aACViD,MAAOnC,EACPoC,SAAU,SAACL,GACT9B,EAAS8B,EAAEM,OAAOF,UAGtB,4BAAQF,KAAK,SAAS/C,UAAU,cAC9B,kBAAC,IAAD,QAEI,IACR,kCAEF,6BAASA,UAAU,UACjB,yBAAKA,UAAU,iBACZU,EAAO0C,KAAI,SAACC,EAAOC,GAClB,OAAO,kBAAC,EAAD,eAAOC,IAAKD,GAAWD,QAGjC7C,GAAW,wBAAIR,UAAU,WAAd,iBCrGpBwD,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFnB,SAASoB,eAAe,W","file":"static/js/main.3cc1f583.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Photo = ({\n  urls: { regular },\n  alt_description,\n  likes,\n  user: {\n    name,\n    portfolio_url,\n    profile_image: { medium },\n  },\n}) => {\n  return (\n    <article className=\"photo\">\n      <img src={regular} alt={alt_description} />\n      <div className=\"photo-info\">\n        <div>\n          <h4>{name}</h4>\n          <p>{likes} Likes</p>\n        </div>\n        <a href={portfolio_url}>\n          <img src={medium} alt={name} className=\"user-img\" />\n        </a>\n      </div>\n    </article>\n  );\n};\n\nexport default Photo;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { FaSearch } from \"react-icons/fa\";\nimport Photo from \"./Photo\";\n\nconst clientID = `?client_id=${process.env.REACT_APP_ACCESS_KEY}`;\nconst mainUrl = `https://api.unsplash.com/photos/`;\nconst searchUrl = `https://api.unsplash.com/search/photos/`;\n\nfunction App() {\n  const [loading, setLoading] = useState(false);\n  const [photos, setPhotos] = useState([]);\n  const [page, setPage] = useState(1);\n  const [query, setQuery] = useState(\"\");\n  const mounted = useRef();\n  const fetchImages = async () => {\n    setLoading(true);\n    let url;\n    const urlPage = `&page=${page}`;\n    const urlQuery = `&query=${query}`;\n    if (query) {\n      url = `${searchUrl}${clientID}${urlPage}${urlQuery}`;\n    } else {\n      url = `${mainUrl}${clientID}${urlPage}`;\n    }\n    const response = await fetch(url);\n    const data = await response.json();\n    try {\n      setPhotos((oldPhotos) => {\n        if (query && page === 1) {\n          return data.results;\n        } else if (query) {\n          return [...oldPhotos, ...data.results];\n        } else {\n          return [...oldPhotos, ...data];\n        }\n      });\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchImages();\n    // eslint-disable-next-line\n  }, [page]);\n\n  useEffect(() => {\n    if (!mounted.current) {\n      mounted.current = true;\n      return;\n    }\n  }, []);\n  useEffect(() => {\n    const event = window.addEventListener(\"scroll\", () => {\n      if (\n        !loading &&\n        window.innerHeight + window.scrollY >= document.body.scrollHeight - 100\n      ) {\n        setPage((oldPage) => {\n          return oldPage + 1;\n        });\n      }\n    });\n    return () => {\n      window.removeEventListener(\"scroll\", event);\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!query) return;\n    if (page === 1) {\n      fetchImages(1);\n      return;\n    }\n    setPage(1);\n  };\n\n  return (\n    <main>\n      <section className=\"search\">\n        <form className=\"search-form\" onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            placeholder=\"search\"\n            className=\"form-input\"\n            value={query}\n            onChange={(e) => {\n              setQuery(e.target.value);\n            }}\n          />\n          <button type=\"submit\" className=\"submit-btn\">\n            <FaSearch />\n          </button>\n        </form>{\" \"}\n        <button></button>\n      </section>\n      <section className=\"photos\">\n        <div className=\"photos-center\">\n          {photos.map((image, index) => {\n            return <Photo key={index} {...image} />;\n          })}\n        </div>\n        {loading && <h2 className=\"loading\">Loading...</h2>}\n      </section>\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}